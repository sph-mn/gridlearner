<!doctype html>
<html>
  <head>
    <link rel="icon" href="data:," />
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1"/>
    <title>gridlearner</title>
    <style>
     *,*::before,*::after{box-sizing:border-box}
     html{font-size:24px;font-family:"Noto Sans SC",monospace,sans-serif;height:100%}
     body{background-color:#444;color:#aaa;margin:0;height:100%}
     input, label{white-space:nowrap}
     button,a,select,label,input{padding:0;margin:0;vertical-align:top;font-size:1em;cursor:pointer;background-color:#000;color:#aaa;border:0;text-decoration:none;height:30px;width:100%}
     label > input{margin-left:4px;vertical-align:middle;width:auto}
     input[type=number]{width:3ch}
     ul{margin:0;padding:0;display:flex;flex-wrap:wrap;text-align:center;gap:8px}
     li{list-style-type:none;flex-grow:1;min-width:40px;overflow:hidden}
     button:hover,select:hover,label:hover,input:hover{color:#eee}
     #menu{width:100%;background-color:#000;border-bottom:1px solid #888}
     #grid > *{display:flex;gap:8px;flex-wrap:wrap;padding:4px;font-family:"Noto Sans SC"}
     #grid > * > span{display:flex;gap:4px;flex-wrap:wrap}
     #grid > * > div,#grid > * > span > div{cursor:default;padding:10px;background-color:black;color:#aaa;border-radius:8px;border:2px solid transparent;cursor:pointer}
     #grid > * > div.selected,#grid > * > div:active,#grid > * > span > div:active{border-color:#aaa}
     #grid > * > div.completed{opacity:0.5}
     #grid[data-mode=single] > main > div > :nth-child(2){display:none}
     #grid[data-mode=single] > main > div.selected > :nth-child(1){display:none}
     #grid[data-mode=single] > main > div.selected > :nth-child(2){display:inline-block}
     #grid[data-mode=single] > main > div.selected{border:0}
     #grid[data-mode=which] > * > * > :first-child:active{border-color:transparent}
     #grid[data-mode=which] > main > .completed > [id]{opacity:0.5}
     #grid[data-mode=which] > main > .completed > :not([id],:first-child){display:none}
     #grid[data-mode=which] > main{column-gap:1.1em}
     #grid[data-mode=which] > * > span > :first-child{background-color:#000000aa}
     #grid > main> span[data-mistakes="1"] > :first-child{background-color:#222}
     #grid > main > span[data-mistakes="2"] > :first-child{background-color:#333}
     #grid > main > span[data-mistakes="3"] > :first-child{background-color:#555}
     #grid > main > span[data-mistakes="4"] > :first-child{background-color:#666}
     #mode_options > :not(.show){display:none}
     #hint{position:absolute;bottom:0;text-align:center;width:100%;background-color:#000;opacity:0.5;visibility:visible}
     #options{border:0;width:100%}
     .hidden{display:none}
     .invisible, #hint.invisible{opacity:0;visibility:hidden;transition:opacity 500ms, visibility 0s 500ms}
     @keyframes pulsate {
       0% {background-color: initial}
       50% {background-color: #888}
       100% {background-color: initial}
     }
     .pulsate {
       animation: pulsate 200ms ease-in-out;
       animation-iteration-count: 1;
     }
     @media (max-width: 700px) {
       li{border:1px solid #444;border-top:0;border-bottom:0}
       li li{border:0}
       button,a,select,label,input{height:40px}
     }
    </style>
  </head>
  <body>
    <input id="file" type="file" class="hidden"/>
    <div id="menu">
      <ul id="menu_content">
        <li><select id="files"></select></li>
        <li id="options_button_container"><button id="options_button" title="options">⚙</button></li>
        <li id="options" class="hidden">
          <label><span>mode:</span> <select id="modes"></select></label>
          <div id="mode_options"></div>
          <ul>
            <li><button id="font_decrease" title="decrease font size">font-</button></li>
            <li><button id="font_increase" title="increase font size">font+</button></li>
          </ul>
        </li>
        <li><button id="save" title="save">↓</button></li>
        <li><button id="reset" title="reset">⨯</button></li>
      </ul>
    </div>
    <div id="grid"><main></main><footer></footer></div>
    <div id="hint" class="invisible"></div>
    <style>
     @font-face {
       font-family: "Noto Sans SC";
       src: url("data:font/ttf;base64,{{font}}") format("truetype");
       font-weight: normal;font-style: normal;
     }
    </style>
    <script>
     {{script}}
    </script>
  </body>
</html>
